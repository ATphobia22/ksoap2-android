<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at 2016-10-08 
 | Rendered using Apache Maven Fluido Skin 1.3.1
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20161008" />
    <meta http-equiv="Content-Language" content="en" />
    <title>ksoap2-android &#x2013; </title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.3.1.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />

      
    <script type="text/javascript" src="./js/apache-maven-fluido-1.3.1.min.js"></script>

    
                  </head>
        <body class="topBarEnabled">
          
    
    
            
    
        
    <a href="http://github.com/mosabua/ksoap2-android">
      <img style="position: absolute; top: 0; right: 0; border: 0; z-index: 10000;"
        src="https://s3.amazonaws.com/github/ribbons/forkme_right_orange_ff7600.png"
        alt="Fork me on GitHub">
    </a>
  
                
                    
                

    <div id="topbar" class="navbar navbar-fixed-top ">
      <div class="navbar-inner">
                <div class="container-fluid">
        <a data-target=".nav-collapse" data-toggle="collapse" class="btn btn-navbar">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </a>
                
                                <ul class="nav">
                          <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">General <b class="caret"></b></a>
        <ul class="dropdown-menu">
        
                      <li>      <a href="index.html"  title="Introduction">Introduction</a>
</li>
                  
                      <li>      <a href="getting-started.html"  title="Getting Started">Getting Started</a>
</li>
                  
                      <li>      <a href="howto.html"  title="How To">How To</a>
</li>
                  
                      <li>      <a href="tips.html"  title="Tips and Tricks">Tips and Tricks</a>
</li>
                  
                      <li>      <a href="users.html"  title="Users">Users</a>
</li>
                  
                      <li>      <a href="changelog.html"  title="Changelog">Changelog</a>
</li>
                  
                      <li>      <a href="license-information.html"  title="License Information">License Information</a>
</li>
                          </ul>
      </li>
                <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Community <b class="caret"></b></a>
        <ul class="dropdown-menu">
        
                      <li>      <a href="http://groups.google.com/group/ksoap2-android"  title="Mailing List">Mailing List</a>
</li>
                  
                      <li>      <a href="report-issue.html"  title="Report An Issue">Report An Issue</a>
</li>
                  
                      <li>      <a href="contributing.html"  title="Contributing">Contributing</a>
</li>
                  
                      <li>      <a href="contributors.html"  title="Contributors">Contributors</a>
</li>
                  
                      <li>      <a href="developing.html"  title="Developing">Developing</a>
</li>
                  
                      <li>      <a href="releasing.html"  title="Releasing">Releasing</a>
</li>
                          </ul>
      </li>
                <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Related Projects <b class="caret"></b></a>
        <ul class="dropdown-menu">
        
                      <li>      <a href="http://easywsdl.com/"  title="easywsdl">easywsdl</a>
</li>
                  
                      <li>      <a href="https://code.google.com/p/wsdl2ksoap2-android/"  title="wsdl2ksoap2-android">wsdl2ksoap2-android</a>
</li>
                  
                      <li>      <a href="http://code.google.com/p/wsdl2ksoap/"  title="wsdl2ksoap">wsdl2ksoap</a>
</li>
                  
                      <li>      <a href="http://www.wsdl2code.com/"  title="wsdl2code">wsdl2code</a>
</li>
                          </ul>
      </li>
                <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Sponsors <b class="caret"></b></a>
        <ul class="dropdown-menu">
        
                      <li>      <a href="http://www.simpligility.com/"  title="simpligility">simpligility</a>
</li>
                  
                      <li>      <a href="http://www.sonatype.com/"  title="Sonatype">Sonatype</a>
</li>
                          </ul>
      </li>
                <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Project Documentation <b class="caret"></b></a>
        <ul class="dropdown-menu">
        
                      <li class="dropdown-submenu">
                                      <a href="project-info.html"  title="Project Information">Project Information</a>
              <ul class="dropdown-menu">
                                  <li>      <a href="issue-tracking.html"  title="Issue Management">Issue Management</a>
</li>
                                  <li>      <a href="source-repository.html"  title="Source Code Management">Source Code Management</a>
</li>
                                  <li>      <a href="project-summary.html"  title="Summary">Summary</a>
</li>
                                  <li>      <a href="integration.html"  title="CI Management">CI Management</a>
</li>
                              </ul>
            </li>
                          </ul>
      </li>
                  </ul>
          
          
          
                   
                      </div>
          
        </div>
      </div>
    </div>
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                <div id="bannerLeft">
                <h2>ksoap2-android Project</h2>
                </div>
                      </div>
        <div class="pull-right">              <div id="bannerRight">
                                                                                                <img src="" />
                </div>
      </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
                    
                  <li id="publishDate">Last Published: 2016-10-08
                      <span class="divider">|</span>
                   </li>
                  <li id="projectVersion">Version: 3.6.2
                      </li>
                      
                
                    
      
                            </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span3">
          <div class="well sidebar-nav">
                
                    
                <ul class="nav nav-list">
                    <li class="nav-header">General</li>
                              
      <li>
  
                          <a href="index.html" title="Introduction">
          <i class="none"></i>
        Introduction</a>
            </li>
                
      <li>
  
                          <a href="getting-started.html" title="Getting Started">
          <i class="none"></i>
        Getting Started</a>
            </li>
                
      <li>
  
                          <a href="howto.html" title="How To">
          <i class="none"></i>
        How To</a>
            </li>
                
      <li class="active">
  
            <a href="#"><i class="none"></i>Tips and Tricks</a>
          </li>
                
      <li>
  
                          <a href="users.html" title="Users">
          <i class="none"></i>
        Users</a>
            </li>
                
      <li>
  
                          <a href="changelog.html" title="Changelog">
          <i class="none"></i>
        Changelog</a>
            </li>
                
      <li>
  
                          <a href="license-information.html" title="License Information">
          <i class="none"></i>
        License Information</a>
            </li>
                              <li class="nav-header">Community</li>
                              
      <li>
  
                          <a href="http://groups.google.com/group/ksoap2-android" class="externalLink" title="Mailing List">
          <i class="none"></i>
        Mailing List</a>
            </li>
                
      <li>
  
                          <a href="report-issue.html" title="Report An Issue">
          <i class="none"></i>
        Report An Issue</a>
            </li>
                
      <li>
  
                          <a href="contributing.html" title="Contributing">
          <i class="none"></i>
        Contributing</a>
            </li>
                
      <li>
  
                          <a href="contributors.html" title="Contributors">
          <i class="none"></i>
        Contributors</a>
            </li>
                
      <li>
  
                          <a href="developing.html" title="Developing">
          <i class="none"></i>
        Developing</a>
            </li>
                
      <li>
  
                          <a href="releasing.html" title="Releasing">
          <i class="none"></i>
        Releasing</a>
            </li>
                              <li class="nav-header">Related Projects</li>
                              
      <li>
  
                          <a href="http://easywsdl.com/" class="externalLink" title="easywsdl">
          <i class="none"></i>
        easywsdl</a>
            </li>
                
      <li>
  
                          <a href="https://code.google.com/p/wsdl2ksoap2-android/" class="externalLink" title="wsdl2ksoap2-android">
          <i class="none"></i>
        wsdl2ksoap2-android</a>
            </li>
                
      <li>
  
                          <a href="http://code.google.com/p/wsdl2ksoap/" class="externalLink" title="wsdl2ksoap">
          <i class="none"></i>
        wsdl2ksoap</a>
            </li>
                
      <li>
  
                          <a href="http://www.wsdl2code.com/" class="externalLink" title="wsdl2code">
          <i class="none"></i>
        wsdl2code</a>
            </li>
                              <li class="nav-header">Sponsors</li>
                              
      <li>
  
                          <a href="http://www.simpligility.com/" class="externalLink" title="simpligility">
          <i class="none"></i>
        simpligility</a>
            </li>
                
      <li>
  
                          <a href="http://www.sonatype.com/" class="externalLink" title="Sonatype">
          <i class="none"></i>
        Sonatype</a>
            </li>
                              <li class="nav-header">Project Documentation</li>
                                                                                                                                      
      <li>
  
                          <a href="project-info.html" title="Project Information">
          <i class="icon-chevron-right"></i>
        Project Information</a>
                  </li>
            </ul>
                
                    
                            <form id="search-form" action="http://www.google.com/search" method="get" >
    
  <input value="$sitesearchValue" name="sitesearch" type="hidden"/>
  <input class="search-query" name="q" id="query" type="text" />
</form>
<script type="text/javascript" src="http://www.google.com/coop/cse/brand?form=search-form"></script>
          
          <hr />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span9" >
                                  
            <div class="sect1">
<h2 id="tips_and_tricks">Tips and Tricks</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="sending_receiving_array_of_complex_types_or_primitives">Sending/receiving array of complex types or primitives</h3>
<div class="paragraph">
<p>You have to extend Vector an implement KvmSerializable.
see also <a href="http://www.blackberry-forum.de/cgi-bin/YaBB.pl?num=1260616413" class="bare">http://www.blackberry-forum.de/cgi-bin/YaBB.pl?num=1260616413</a></p>
</div>
<div class="paragraph">
<p>We want to generate this XML in the Request</p>
</div>
<div class="listingblock">
<div class="content">
<pre>&lt;documentIds&gt;
  &lt;string&gt;string&lt;/string&gt;
  &lt;string&gt;string&lt;/string&gt;
&lt;/documentIds&gt;
&lt;pluginType&gt;string&lt;/pluginType&gt;
&lt;xmlConfiguration&gt;string&lt;/xmlConfiguration&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>As you see, we want to generate an array with the Propertyname "documentIds"
which contains strings with the propertyname "string", and to other simple
string properties called "pluginType" and "xmlConfiguration".</p>
</div>
<div class="paragraph">
<p>For this you have to generate a class like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>import java.util.Hashtable;
import java.util.Vector;
import org.ksoap2.serialization.KvmSerializable;
import org.ksoap2.serialization.PropertyInfo;

public class DocumentIDs extends Vector&lt;String&gt; implements KvmSerializable {

  private static final long serialVersionUID = -1166006770093411055L;

  @Override
  public Object getProperty(int arg0) {
    return this.get(arg0);
  }

  @Override
  public int getPropertyCount() {
    return 1;
  }

  @Override
  public void getPropertyInfo(int arg0, Hashtable arg1, PropertyInfo arg2) {
    arg2.name = "string";
    arg2.type = PropertyInfo.STRING_CLASS;
  }

  @Override
  public void setProperty(int arg0, Object arg1) {
    this.add(arg1.toString());
  }

}</pre>
</div>
</div>
<div class="paragraph">
<p>To build the request you have to do this:</p>
</div>
<div class="paragraph">
<p>Make a new Vector-Object from this class:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>DocumentIDs documentIdVector = new DocumentIDs();</pre>
</div>
</div>
<div class="paragraph">
<p>then you can add elements:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>documentIdVector.add("any String");</pre>
</div>
</div>
<div class="paragraph">
<p>then you create a PropertyInfo with it:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>documentIdsPropertyInfo = new PropertyInfo();
documentIdsPropertyInfo.setName("documentIds");
documentIdsPropertyInfo.setValue(documentIdVector);
documentIdsPropertyInfo.setType(documentIdVector.getClass());</pre>
</div>
</div>
<div class="paragraph">
<p>then you add all the properties to the request:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Request = new SoapObject(NAMESPACE, METHOD_NAME);
Request.addProperty(documentIdsPropertyInfo);
Request.addProperty("pluginType", "another string");
Request.addProperty("xmlConfiguration", "next string");

soapEnvelope = new SoapSerializationEnvelope(SoapEnvelope.VER11);
soapEnvelope.setOutputSoapObject(Request);
soapEnvelope.addMapping(NAMESPACE, "documentIds", new DocumentIDs().getClass());</pre>
</div>
</div>
<div class="paragraph">
<p>When receiving a Response you simply cast the soapEnvelope.bodyIn to the class
the response contains. and then access the Vector entries with an index and the
values of a complex-type entry with getter-methods.</p>
</div>
<div class="paragraph">
<p>in the above case this whould be</p>
</div>
<div class="listingblock">
<div class="content">
<pre>DocumentIDs documentIdResultVector = (DocumentIDs)soapEnvelope.bodyIn;
String resultString = documentIdResultVector.get(0);</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="how_to_see_raw_xml_request_and_response_e_g_for_debugging">How to see raw xml request and response e.g. for debugging?</h3>
<div class="paragraph">
<p>Turn debugging on for your httpTransport like so</p>
</div>
<div class="listingblock">
<div class="content">
<pre>httpTransport.debug = true;</pre>
</div>
</div>
<div class="paragraph">
<p>and then set a breakpoint at</p>
</div>
<div class="listingblock">
<div class="content">
<pre>httpTransport.call(soapaction, envelope);</pre>
</div>
</div>
<div class="paragraph">
<p>inspect the values of</p>
</div>
<div class="listingblock">
<div class="content">
<pre>httpTransport.requestDump
httpTransport.responseDump</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="is_there_code_generation_off_the_wsdl_somehow">Is there code generation off the WSDL somehow?</h3>
<div class="paragraph">
<p>The leading WSDL client code generator EasyWsdl[<a href="https://www.easywsdl.com/" class="bare">https://www.easywsdl.com/</a>]
produces code that facilitates ksoap2-android.</p>
</div>
<div class="paragraph">
<p>There is the also a less mature project [<a href="http://code.google.com/p/wsdl2ksoap/" class="bare">http://code.google.com/p/wsdl2ksoap/</a>]
that uses KSoap2-Android as well as a patch that enables something along these
lines in upstream KSoap2 (details on <a href="http://code.google.com/p/ksoap2-android/issues/detail?id=34" class="bare">http://code.google.com/p/ksoap2-android/issues/detail?id=34</a>
 however that is all I know about it..</p>
</div>
</div>
<div class="sect2">
<h3 id="marshalling_arrays">Marshalling Arrays</h3>
<div class="paragraph">
<p>Writing a three dimensional array (as an example) can be done with a Marshaller
implemented e.g. like that, reading still needs to be done</p>
</div>
<div class="listingblock">
<div class="content">
<pre>import org.ksoap2.serialization.Marshal;
import org.ksoap2.serialization.PropertyInfo;
import org.ksoap2.serialization.SoapSerializationEnvelope;
import org.xmlpull.v1.XmlPullParser;
import org.xmlpull.v1.XmlPullParserException;
import org.xmlpull.v1.XmlSerializer;

import java.io.IOException;

public class MarshallArray implements Marshal {
    //this method doesn't work yet
    public Object readInstance(XmlPullParser parser, String namespace, String name, PropertyInfo expected)
            throws IOException, XmlPullParserException {
        return parser.nextText();
    }

    public void register(SoapSerializationEnvelope cm) {
        cm.addMapping(cm.xsd, "String[][][]", String[][][].class, this);
    }

    public void writeInstance(XmlSerializer writer, Object obj) throws IOException {
        String[][][] myArray = (String[][][]) obj;
        for (int i = 0; i &lt; myArray.length; i++) {
            writer.startTag("", "ArrayOfArrayOfString");
            for (int j = 0; j &lt; myArray[i].length; j++) {
                writer.startTag("", "ArrayOfString");
                for (int k = 0; k &lt; myArray[i][j].length; k++) {
                    writer.startTag("", "string");
                    writer.text(myArray[i][j][k]);
                    writer.endTag("", "string");
                }
                writer.endTag("", "ArrayOfString");
            }
            writer.endTag("", "ArrayOfArrayOfString");
        }
    }
}</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="manual_parsing_of_an_array_of_soapobjects_into_an_pojo_array">Manual Parsing of an Array of SoapObjects into an POJO array</h3>
<div class="paragraph">
<p>You can create an array of pojos by just parsing through a SoapObjects
properties, which are each SoapObjects themselves.  Your response returned from
the webservice will be a SoapObject (unless it is very simple - SoapPrimitive
then, or it failed.. SoapException then) and you can parse it manually with the
various methods like getProperty, getAttribute and so on. See the javadoc for
SoapObject for more.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>ArrayList&lt;Pojo&gt; pojos = null;
int totalCount = soapobject.getPropertyCount();
if (detailsTotal &gt; 0 ) {
    pojos = new ArrayList&lt;Pojo&gt;();
    for (int detailCount = 0; detailCount &lt; totalCount; detailCount++) {
        SoapObject pojoSoap = (SoapObject) soapobject.getProperty(detailCount);
        Pojo Pojo = new Pojo();
        Pojo.idNumber = pojoSoap.getProperty("idNumber").toString();
        Pojo.quantity =  pojoSoap.getProperty("quantity").toString();

        pojos.add(Pojo);
    }
}</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="how_to_build_up_a_element_array_e_g_for_the_security_header_of_the_request">How to build up a Element array e.g. for the security header of the request</h3>
<div class="paragraph">
<p>See [<a href="http://stackoverflow.com/questions/4194920/blackberry-ksoap2-soap-header" class="bare">http://stackoverflow.com/questions/4194920/blackberry-ksoap2-soap-header</a>]</p>
</div>
</div>
<div class="sect2">
<h3 id="adding_an_array_of_complex_objects_to_the_request">Adding an array of complex objects to the request</h3>
<div class="paragraph">
<p>To get this xml:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>&lt;users&gt;
  &lt;user&gt;
     &lt;name&gt;Jonh&lt;/name&gt;
     &lt;age&gt;12&lt;/age&gt;
  &lt;/user&gt;
  &lt;user&gt;
     &lt;name&gt;Marie&lt;/name&gt;
     &lt;age&gt;27&lt;/age&gt;
  &lt;/user&gt;
&lt;/users&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>You would do this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>SoapObject users = new SoapObject(NAMESPACE, "users");
SoapObject john = new SoapObject(NAMESPACE, "user");
john.addProperty("name", "john");
john.addProperty("age", 12);
SoapObject marie = new SoapObject(NAMESPACE, "user");
john.addProperty("name", "marie");
john.addProperty("age", 27);
users.addSoapObject(john);
users.addSoapObject(marie);</pre>
</div>
</div>
<div class="paragraph">
<p>In a similar manner if you have an array of objects or primitives you can build
a loop iterating through and adding as above. The approach above works as of
2.5.5. Prior you have to create a SoapObject and add it as a property.</p>
</div>
<div class="paragraph">
<p>Or look above to "sending/receiving array of complex types or primitives"</p>
</div>
<div class="paragraph">
<p>You can also add any required attributes to each SoapObject as necessary.</p>
</div>
</div>
<div class="sect2">
<h3 id="how_to_set_the_sslsocketfactory_on_a_https_connection_in_order_to_allow_self_signed_certificates_read_from_a_keystore">How to set the SSLSocketFactory on a https connection  in order to allow self-signed certificates read from a KeyStore</h3>
<div class="listingblock">
<div class="content">
<pre>public class ConnectionWithSelfSignedCertificate {

  private KeyStore keyStore;

  public ConnectionWithSelfSignedCertificate(KeyStore keyStore) {
    this.keyStore = keyStore;
  }

  public void dummy(String host, int port, String file, int timeout) throws Exception {
    SoapObject client = new SoapObject("", "dummy");
    SoapSerializationEnvelope envelope = new SoapSerializationEnvelope(SoapEnvelope.VER11);
    envelope.bodyOut = client;
    HttpsTransportSE transport = new HttpsTransportSE(host, port, file, timeout);
    ((HttpsServiceConnectionSE) transport.getConnection()).setSSLSocketFactory(getSSLSocketFactory());
    transport.call("", envelope);
  }

  private SSLSocketFactory getSSLSocketFactory() throws KeyStoreException, NoSuchAlgorithmException, KeyManagementException {
    TrustManagerFactory tmf = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());
    tmf.init(keyStore);
    SSLContext context = SSLContext.getInstance("SSL");
    context.init(null, tmf.getTrustManagers(), null);
    return context.getSocketFactory();
  }
}</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="sending_a_byte_array">Sending a byte array</h3>
<div class="paragraph">
<p>To send a byte array (e.g an image) you need to enable MarshalBase64 by adding
it as a mapping to the envelope and then add the byte array as a base64 encoded
array.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>String path = Environment.getExternalStorageDirectory().getAbsolutePath();
                     String FILE = "/PdfCheck1.pdf";
                     String pathCompleto = path+FILE;
                     Log.i("","Path completo : "+ pathCompleto);
                     byte[] filefirma = convertDocToByteArray(pathCompleto);
                     Intervento.addProperty("FileFirma",filefirma);

SoapSerializationEnvelope envelope = new SoapSerializationEnvelope(SoapEnvelope.VER11);

new MarshalDouble().register(envelope);
new MarshalBase64().register(envelope);   //serialization
envelope.encodingStyle = SoapEnvelope.ENC;

envelope.bodyOut = request;
envelope.dotNet = true;
envelope.setOutputSoapObject(request);
envelope.setAddAdornments(false);
envelope.implicitTypes= true;
//                 Log.i("Envelope","settata");

HttpTransportSE androidHttpTransport = new HttpTransportSE(URL);
androidHttpTransport.debug = true;
Log.i("","Prima di androidHttpTransport.call ");
androidHttpTransport.call(SOAP_ACTION, envelope);
Log.i("","" + androidHttpTransport.requestDump);
Log.i("","" + androidHttpTransport.responseDump);
Log.i("call","call");

SoapPrimitive resultsRequestSOAP = (SoapPrimitive) envelope.getResponse();
Log.i("SoapPrimitive","Result" + resultsRequestSOAP);
Log.i("GetAttribute","Count" + resultsRequestSOAP.getAttributeCount());

b = Boolean.parseBoolean(resultsRequestSOAP.toString());
Log.i("","risultato boolean Straordinario "+b);

public static byte[] convertDocToByteArray(String sourcePath) throws IOException {
      File f = new File(sourcePath);
        long l = f.length();
        byte [] buf = new byte[(int) l];
        ByteArrayOutputStream bos = new ByteArrayOutputStream();
              try {
                    InputStream fis = new FileInputStream(sourcePath);

                    for (int readNum; (readNum = fis.read(buf)) != -1;) {
                        bos.write(buf, 0, readNum);
                        Log.i("","read num bytes: "+readNum);
                    }
             } catch (IOException e) {
                  System.out.println("IO Ex"+e);
              }
              byte[] bytes = bos.toByteArray();

//              for(int i = 0;i&lt;bytes.length;i++)
//              {
//                Log.i("","bytes : "+bytes[i]);
//              }
}</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="using_basic_authentication">Using Basic Authentication</h3>
<div class="paragraph">
<p>use the class HttpTransportBasicAuth from the extras package</p>
</div>
</div>
<div class="sect2">
<h3 id="using_ntlm_authentication">Using NTLM Authentication</h3>
<div class="paragraph">
<p>use the jar from the ksoap2-extras-ntlm module with the NtlmTransport</p>
</div>
</div>
<div class="sect2">
<h3 id="testing_and_debugging_in_general_and_specifically_for_wcf_webservices">Testing and Debugging in general and specifically for WCF webservices</h3>
<div class="paragraph">
<p>Check out the Android application WCF Tester mentioned on the
links:howto.html[How To] page as well as client tools like SoapUI.</p>
</div>
</div>
<div class="sect2">
<h3 id="use_an_array_of_parameters_to_create_a_request">Use an array of parameters to create a request</h3>
<div class="paragraph">
<p>If you need to use an arrays of parameters, you can use HashMap and just
register MarshalHashTable object. MarshalHashTable is needed to use HashTable o
bject as container of parameters:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Hashtable hashtable = new Hashtable();
hashtable.put("is_report", false);
hashtable.put("r_how", 1);
_client.addProperty("params",hashtable);
SoapSerializationEnvelope _envelope = new SoapSerializationEnvelope(SoapEnvelope.VER11);
 _envelope.bodyOut = _client;
HttpTransportSE _ht = new HttpTransportSE("http://www.drebedengi.ru/soap/");
_ht.debug = true;
(new MarshalHashtable()).register(_envelope);</pre>
</div>
</div>
<div class="paragraph">
<p>also see the discussion on the mailing list
<a href="https://groups.google.com/forum/?fromgroups=#!topic/ksoap2-android/OeP-jWVLZMw" class="bare">https://groups.google.com/forum/?fromgroups=#!topic/ksoap2-android/OeP-jWVLZMw</a></p>
</div>
</div>
<div class="sect2">
<h3 id="using_cookies">Using Cookies</h3>
<div class="paragraph">
<p>Many web services use cookies to maintain state between different calls to the
web service. ksoap2-android exposes enough of the underlying HTTP headers to
enable the developer to receive, save and return those cookies as needed.</p>
</div>
<div class="paragraph">
<p>Cookies as simply received from the web service and sent to the web service as
headers in the HTTP preamble. In order to use cookies with the ksoap2-android,
one needs to save any returned cookies and return them with subsequent calls to
the web service.</p>
</div>
<div class="paragraph">
<p>The HttpTransportSE class exposes the method call that, beyond the required
SOAP parameters, also accepts a <em>List</em> of <em>HeaderProperty</em> instances. It also
returns a like <em>List</em>. This provides the ability to append additional headers to
the request and review the returned headers. Since a cookie is just one of those
header, one can use this facility to send and receive cookies.</p>
</div>
</div>
</div>
</div>
                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
                      <div class="row-fluid">
                              <p >Copyright &copy;                    2002&#x2013;2016
                        <a href="http://www.simpligility.com">simpligility technologies inc.</a>.
            All rights reserved.      
                    
      </p>
        </div>

        
        
                </div>
    </footer>
        </body>
</html>